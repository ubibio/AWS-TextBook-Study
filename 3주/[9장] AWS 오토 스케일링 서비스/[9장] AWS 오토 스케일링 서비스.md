# 9장. AWS 오토 스케일링 서비스

- 스케일링: IT 자원을 확장 또는 축소

  - 수직 스케일링: 단일 서버 용량 확장(스케일 업)·축소(스케일 다운)
  - 수평 스케일링: 서버 수량 증감
    - 스케일 아웃: 인스턴스 수량 증가
    - 스케일 인: 인스턴스 수량 감소

  Amazon EC2 오토 스케일링: 워크로드에 맞춰 EC2 인스턴스 수 자동 조절

  - 오토 스케일링 그룹: 인스턴스를 논리적으로 묶어 가용 영역·서브넷 배포 설정
    - 최소 인스턴스 수, 최대 인스턴스 수, 시작 인스턴스 수 정의
    - AMI, 인스턴스 유형, 키 페어, 사용자 데이터, 보안 그룹, IAM 역할 등을 구성 템플릿으로 지정
  - 로드 밸런서 연동: 요청 분산
  - CloudWatch 지표 수집: CPU 사용률, 네트워크 트래픽 등 모니터링
  - 헬스체크: 비정상 인스턴스 자동 교체
  - 조정 옵션: 예약 작업, 조정 정책 사용

  인스턴스 수명 주기

  - 스케일 아웃: 대기 중 → 실행 중 → 로드 밸런서 연결
  - 스케일 인: 실행 중 → 종료 중(드레이닝) → 종료됨(로드 밸런서 연결 해제)
  - 인스턴스 중지 후 재시작: 실행 중 → 중지 중 → 중지됨 → 대기 중 → 실행 중
  - 중지된 인스턴스 종료: 종료 중 → 종료됨

  오토 스케일링 조정 옵션

  1. 원하는 수 유지: 주기적으로 상태 확인 후 비정상 인스턴스 교체
  2. 수동 조정: 최대·최소 용량 직접 변경하여 인스턴스 수 조정
  3. 동적 조정
     - 대상 추적(Target Tracking): 지표 목표 값 유지 목적 자동 조정
     - 단계 조정(Step Scaling): 임계값 초과 시 단계별 증감량 설정
     - 단순 조정(Simple Scaling): 임계값 관계 없이 고정 증감량 적용
  4. 일정 기반 조정
     - 예약 조정(Scheduled Scaling): 특정 시간에 인스턴스 증감
     - 예측 조정(Predictive Scaling): 과거 트래픽 기록 기반 예측하여 사전 조정

  비용: 오토 스케일링 자체 무료, 생성된 EC2 인스턴스 사용 요금 및 CloudWatch 알람 요금만 발생
